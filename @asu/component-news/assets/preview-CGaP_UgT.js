var ie="storybook/addon-mock",Ie="mockData",Ue="mockAddonConfigs",V={SEND:"".concat(ie,"/send"),UPDATE:"".concat(ie,"/update")};class U{constructor(e){this._headers=new Map,e&&(e instanceof U?this._headers=new Map(e._headers):Object.entries(e).forEach(([r,n])=>this.addHeader(r,n)))}reset(){return this._headers.clear(),this}getHeader(e){return this._headers.get(e.toUpperCase())??null}getAll(){return[...this._headers.keys()].sort().reduce((n,s)=>{const i=this._headers.get(s);return`${n}${s.toLowerCase()}: ${i}\r
`},"")}getHash(){const e={};return this._headers.forEach((r,n)=>{e[n.toLowerCase()]=r}),e}addHeader(e,r){e=e.toUpperCase();const n=this._headers.get(e);return n!==void 0&&(r=`${n}, ${r}`),this._headers.set(e,r),this}}class Fe{constructor(e,r){this._requestData=e,this._responseReceiver=r}get requestData(){return this._requestData}get requestHeaders(){return this._requestData.requestHeaders}get method(){return this._requestData.method}get url(){return this._requestData.url}get body(){return this._requestData.body}get withCredentials(){return this._requestData.withCredentials}getRequestBodySize(){return this._requestData.getRequestBodySize()}uploadProgress(e){this._responseReceiver.uploadProgress(this._requestData,e)}respond(e,r,n,s){this.setResponseHeaders(e,r,s),this.setResponseBody(n)}setResponseHeaders(e,r,n){this._responseReceiver.setResponseHeaders(this._requestData,e,r,n)}downloadProgress(e,r){this._responseReceiver.downloadProgress(this._requestData,e,r)}setResponseBody(e=null){this._responseReceiver.setResponseBody(this._requestData,e)}setNetworkError(){this._responseReceiver.setNetworkError(this._requestData)}setRequestTimeout(){this._responseReceiver.setRequestTimeout(this._requestData)}}function be(t){return t?typeof t=="string"?ae(t):typeof FormData<"u"&&t instanceof FormData||t.constructor.name==="FormData"?[...t.values()].reduce((e,r)=>{const n=r.size??ae(r.toString());return e+n},0):t.size||t.byteLength||0:0}function ae(t){return typeof Blob<"u"?new Blob([t]).size:Buffer.byteLength(t)}const Le=/^[A-Za-z0-9!#$%&'*+\-.^_`|~]+$/;function we(t){return typeof t=="string"&&Le.test(t)}function Be(t){return we(t)}function je(t){return typeof t=="string"&&t.trim().length===t.length&&!t.includes("\0")}const $e=["Accept-Charset","Accept-Encoding","Access-Control-Request-Headers","Access-Control-Request-Method","Connection","Content-Length","Cookie","Cookie2","Date","DNT","Expect","Host","Keep-Alive","Origin","Referer","TE","Trailer","Transfer-Encoding","Upgrade","Via"],Me=new RegExp(`^(${$e.join("|")}|Proxy-.*|Sec-.*)$`,"i");function Ge(t){return Me.test(t)}function ze(t){return we(t)}const Ke=/^(CONNECT|TRACE|TRACK)$/i;function Ve(t){return Ke.test(t)}const Qe=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],Je=new RegExp(`^(${Qe.join("|")})$`,"i");function We(t){return Je.test(t)&&(t=t.toUpperCase()),t}const Ye={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",507:"Insufficient Storage",511:"Network Authentication Required"};function Ze(t){return Ye[t]??"Unknown Status"}class ke{constructor(e,r,n,s=null,i=!1){this._requestHeaders=e,this._method=r,this._url=n,this._body=s,this._credentialsMode=i}get requestHeaders(){return new U(this._requestHeaders)}get method(){return this._method}get url(){return this._url}get body(){return this._body}get withCredentials(){return this._credentialsMode}getRequestBodySize(){return be(this.body)}}class Re{constructor(e){this.type=e}}class oe extends Re{constructor(e,r=0,n=0){super(e),this.loaded=r,this.total=n,this.lengthComputable=n>0}}class ue{constructor(e){this._eventContext=e??this,this._listeners=new Map}get onabort(){return this._getEventHandlerProperty("abort")}set onabort(e){this._setEventHandlerProperty("abort",e)}get onerror(){return this._getEventHandlerProperty("error")}set onerror(e){this._setEventHandlerProperty("error",e)}get onload(){return this._getEventHandlerProperty("load")}set onload(e){this._setEventHandlerProperty("load",e)}get onloadend(){return this._getEventHandlerProperty("loadend")}set onloadend(e){this._setEventHandlerProperty("loadend",e)}get onloadstart(){return this._getEventHandlerProperty("loadstart")}set onloadstart(e){this._setEventHandlerProperty("loadstart",e)}get onprogress(){return this._getEventHandlerProperty("progress")}set onprogress(e){this._setEventHandlerProperty("progress",e)}get ontimeout(){return this._getEventHandlerProperty("timeout")}set ontimeout(e){this._setEventHandlerProperty("timeout",e)}hasListeners(){return[...this._listeners.values()].some(e=>e.length>0)}addEventListener(e,r,n){if(r){const s=W(r,!1,n),i=this._listeners.get(e)??[];i.every(({isEventHandlerProperty:a,listener:o,useCapture:f})=>a||s.listener!==o||s.useCapture!==f)&&(i.push(s),this._listeners.set(e,i))}}removeEventListener(e,r,n){if(r){const s=this._listeners.get(e);if(s){const i=W(r,!1,n),a=s.findIndex(({isEventHandlerProperty:o,listener:f,useCapture:u})=>!o&&i.listener===f&&i.useCapture===u);a>=0&&(s[a].removed=!0,s.splice(a,1))}}}dispatchEvent(e){const r=this._listeners.get(e.type);return r&&[...r].forEach(n=>{if(!n.removed){if(n.once){const s=r.indexOf(n);s>=0&&r.splice(s,1)}typeof n.listener=="function"?n.listener.call(this._eventContext,e):n.listener.handleEvent(e)}}),!0}_getEventHandlerProperty(e){const r=this._listeners.get(e);if(r){const n=r.find(s=>s.isEventHandlerProperty);if(n)return n.listener}return null}_setEventHandlerProperty(e,r){const n=this._listeners.get(e);if(n){const s=n.findIndex(i=>i.isEventHandlerProperty);if(s>=0){if(n[s].listener===r)return;n[s].removed=!0,n.splice(s,1)}}if(r){const s=W(r,!0);n?n.push(s):this._listeners.set(e,[s])}}}function W(t,e,r){const n=typeof r=="boolean";return{listener:t,isEventHandlerProperty:e,useCapture:n?r:!!(r!=null&&r.capture),once:n?!1:!!(r!=null&&r.once),removed:!1}}const Xe=["","arraybuffer","blob","document","json","text"];class l extends ue{constructor(){var e;super(),this.UNSENT=l.UNSENT,this.OPENED=l.OPENED,this.HEADERS_RECEIVED=l.HEADERS_RECEIVED,this.LOADING=l.LOADING,this.DONE=l.DONE,this._authorRequestHeaders=new U,this._readyState=l.UNSENT,this._timeout=0,this._crossOriginCredentials=!1,this._uploadObject=new ue(this),this.responseURL="",this._responseType="",this._response=j(),this._timeoutReference=0,this.onreadystatechange=null,this.timeoutEnabled=!0,(e=l.onCreate)==null||e.call(l,this)}get onreadystatechange(){return this._getEventHandlerProperty("readystatechange")}set onreadystatechange(e){this._setEventHandlerProperty("readystatechange",e)}get currentRequest(){return this._currentRequest}getResponseHeadersHash(){return this._response.headers.getHash()}uploadProgress(e,r){var n;if(((n=this._currentRequest)==null?void 0:n.requestData)===e){if(!this._sendFlag)throw new Error('Mock usage error detected: call send() first (the "send() flag" is not set)');if(this._uploadCompleteFlag)throw new Error('Mock usage error detected: upload already completed (the "upload complete flag" is set)');const s=e.getRequestBodySize();if(r>s)throw new Error(`Mock usage error detected: upload progress "requestBodyTransmitted" (${r}) is greater than "requestBodyLength" (${s})`);this._uploadListenerFlag&&this._fireUploadProgressEvent("progress",r,s)}}setResponseHeaders(e,r,n,s){var i;if(((i=this._currentRequest)==null?void 0:i.requestData)===e){if(!this._sendFlag)throw new Error('Mock usage error detected: call send() first (the "send() flag" is not set)');if(this._readyState!==l.OPENED)throw new Error(`Mock usage error detected: readyState is ${this._readyState}, but it must be OPENED (${l.OPENED})`);e.body&&this._processRequestEndOfBody(e.getRequestBodySize(),e.getRequestBodySize()),r=typeof r=="number"?r:200;const a=s??Ze(r);this._processResponse({status:r,statusMessage:a,headers:new U(n)})}}downloadProgress(e,r,n){var s;if(((s=this._currentRequest)==null?void 0:s.requestData)===e){if(this._readyState!==l.HEADERS_RECEIVED&&this._readyState!==l.LOADING)throw new Error(`Mock usage error detected: readyState is ${this._readyState}, but it must be HEADERS_RECEIVED (${l.HEADERS_RECEIVED}) or LOADING (${l.LOADING})`);this._readyState===l.HEADERS_RECEIVED&&(this._readyState=l.LOADING),this._fireReadyStateChangeEvent(),this._fireProgressEvent("progress",r,n)}}setResponseBody(e,r){var n;if(((n=this._currentRequest)==null?void 0:n.requestData)===e){if(!this._sendFlag)throw new Error('Mock usage error detected: call send() first (the "send() flag" is not set)');if(this._readyState!==l.OPENED&&this._readyState!==l.HEADERS_RECEIVED&&this._readyState!==l.LOADING)throw new Error(`Mock usage error detected: readyState is ${this._readyState}, but it must be OPENED (${l.OPENED}), HEADERS_RECEIVED (${l.HEADERS_RECEIVED}) or LOADING (${l.LOADING})`);if(this._readyState===l.OPENED){const s={"content-length":String(be(r))};this.setResponseHeaders(e,200,s)}this._readyState=l.LOADING,this._fireReadyStateChangeEvent(),this._response.body=r??null,this._handleResponseEndOfBody()}}setNetworkError(e){var r;if(((r=this._currentRequest)==null?void 0:r.requestData)===e){if(!this._sendFlag)throw new Error('Mock usage error detected: call send() first (the "send() flag" is not set)');this._processResponse(j())}}setRequestTimeout(e){var r;if(((r=this._currentRequest)==null?void 0:r.requestData)===e){if(!this._sendFlag)throw new Error('Mock usage error detected: call send() first (the "send() flag" is not set)');if(this.timeout===0)throw new Error("Mock usage error detected: the timeout attribute must be greater than 0 for a timeout to occur");this._timedOutFlag=!0,this._terminateFetchController(),this._processResponse(j())}}get readyState(){return this._readyState}open(e,r,n){if(!n&&arguments.length>2)throw new Error("async = false is not supported.");ze(e)||O("SyntaxError",`Method "${e}" is not a method.`),Ve(e)&&O("SecurityError",`Method "${e}" forbidden.`),e=We(e),this._terminateFetchController(),this._sendFlag=!1,this._uploadListenerFlag=!1,this._requestMethod=e,this._requestUrl=r.toString(),this._authorRequestHeaders.reset(),this._response=j(),this._readyState!==l.OPENED&&(this._readyState=l.OPENED,this._fireReadyStateChangeEvent())}setRequestHeader(e,r){if((this._readyState!==l.OPENED||this._sendFlag)&&O("InvalidStateError"),typeof e!="string"||typeof r!="string")throw new SyntaxError;r=r.trim(),Be(e)?je(r)||O("SyntaxError",`Value "${r}" is not a header value.`):O("SyntaxError",`Name "${e}" is not a header name.`),!Ge(e)&&this._authorRequestHeaders.addHeader(e,r)}get timeout(){return this._timeout}set timeout(e){this._timeout=e,this._sendFlag&&this.timeoutEnabled&&this._getPrototype().timeoutEnabled&&this._scheduleRequestTimeout()}get withCredentials(){return this._crossOriginCredentials}set withCredentials(e){(this._readyState!==l.UNSENT&&this._readyState!==l.OPENED||this._sendFlag)&&O("InvalidStateError"),this._crossOriginCredentials=!!e}get upload(){return this._uploadObject}send(e=null){if((this._readyState!==l.OPENED||this._sendFlag)&&O("InvalidStateError"),(this._requestMethod==="GET"||this._requestMethod==="HEAD")&&(e=null),e){let i=null;{let o=null;if(typeof e=="string")o="text/plain;charset=UTF-8";else if(typeof FormData<"u"&&e instanceof FormData)o="multipart/form-data; boundary=-----MochXhr1234";else{const f=e.type;typeof f=="string"&&(o=f)}i=o}this._authorRequestHeaders.getHeader("Content-Type")!==null||i!==null&&this._authorRequestHeaders.addHeader("Content-Type",i)}this._uploadListenerFlag=this._uploadObject.hasListeners();const r=new ke(new U(this._authorRequestHeaders),this._requestMethod,this._requestUrl,e,this._crossOriginCredentials),n=new Fe(r,this);if(this._uploadCompleteFlag=!1,this._timedOutFlag=!1,this._uploadCompleteFlag=n.body===null,this._sendFlag=!0,this._fireProgressEvent("loadstart",0,0),!this._uploadCompleteFlag&&this._uploadListenerFlag&&this._fireUploadProgressEvent("loadstart",0,n.getRequestBodySize()),this._readyState!==l.OPENED||!this._sendFlag)return;this._currentRequest=n,this._timeoutReference=Date.now(),this._scheduleRequestTimeout(),this._callOnSend(l.onSend);const s=this._getPrototype();s!==l&&this._callOnSend(s.onSend),this._callOnSend(this.onSend)}abort(){this._terminateFetchController(),(this._readyState===l.OPENED&&this._sendFlag||this._readyState===l.HEADERS_RECEIVED||this._readyState===l.LOADING)&&this._requestErrorSteps("abort"),this._readyState===l.DONE&&(this._readyState=l.UNSENT,this._response=j())}get status(){return this._response.status}get statusText(){return this._response.statusMessage}getResponseHeader(e){return this._response.headers.getHeader(e)}getAllResponseHeaders(){return this._response.headers.getAll()}overrideMimeType(e){(this._readyState===l.LOADING||this._readyState===l.DONE)&&O("InvalidStateError")}get responseType(){return this._responseType}set responseType(e){(this._readyState===l.LOADING||this._readyState===l.DONE)&&O("InvalidStateError"),Xe.includes(e)&&(this._responseType=e)}get response(){if(this._responseType===""||this._responseType==="text")return this._readyState!==l.LOADING&&this._readyState!==l.DONE?"":this._getTextResponse();if(this._readyState!==l.DONE)return null;if(this._responseType==="json"){if(this._response.body===null)return null;try{return JSON.parse(this._response.body)}catch{return null}}return this._response.body}get responseText(){return this._responseType!==""&&this._responseType!=="text"&&O("InvalidStateError"),this._readyState!==l.LOADING&&this._readyState!==l.DONE?"":this._getTextResponse()}get responseXML(){return this._responseType!==""&&this._responseType!=="document"&&O("InvalidStateError"),this._readyState!==l.DONE?null:this._response.body??""}_processRequestEndOfBody(e,r){this._uploadCompleteFlag=!0,this._uploadListenerFlag&&(this._fireUploadProgressEvent("progress",e,r),this._fireUploadProgressEvent("load",e,r),this._fireUploadProgressEvent("loadend",e,r))}_processResponse(e){this._response=e,this._handleErrors(),!this._response.isNetworkError&&(this._readyState=l.HEADERS_RECEIVED,this._fireReadyStateChangeEvent(),this._readyState===l.HEADERS_RECEIVED&&this._response.body===null&&this._handleResponseEndOfBody())}_handleResponseEndOfBody(){var r;if(this._handleErrors(),this._response.isNetworkError)return;const e=((r=this._response.body)==null?void 0:r.length)??0;this._fireProgressEvent("progress",e,e),this._readyState=l.DONE,this._sendFlag=!1,this._terminateFetchController(),this._fireReadyStateChangeEvent(),this._fireProgressEvent("load",e,e),this._fireProgressEvent("loadend",e,e)}_handleErrors(){this._sendFlag&&(this._timedOutFlag?this._requestErrorSteps("timeout"):this._response.isNetworkError&&this._requestErrorSteps("error"))}_requestErrorSteps(e){this._readyState=l.DONE,this._sendFlag=!1,this._response=j(),this._fireReadyStateChangeEvent(),this._uploadCompleteFlag||(this._uploadCompleteFlag=!0,this._uploadListenerFlag&&(this._fireUploadProgressEvent(e,0,0),this._fireUploadProgressEvent("loadend",0,0))),this._fireProgressEvent(e,0,0),this._fireProgressEvent("loadend",0,0)}_getTextResponse(){var e;return((e=this._response.body)==null?void 0:e.toString())??""}_callOnSend(e){if(e){const r=this._currentRequest;Promise.resolve().then(()=>{e.call(r,r,this)})}}_terminateFetchController(){delete this._currentRequest}_fireProgressEvent(e,r,n){this.dispatchEvent(new oe(e,r,n))}_fireUploadProgressEvent(e,r,n){this._uploadObject.dispatchEvent(new oe(e,r,n))}_fireReadyStateChangeEvent(){const e=new Re("readystatechange");this.dispatchEvent(e)}_scheduleRequestTimeout(){if(this._timeoutTask&&clearTimeout(this._timeoutTask),this._timeout>0){const e=Math.max(0,this._timeout-(Date.now()-this._timeoutReference));this._timeoutTask=setTimeout(()=>{var r;this._sendFlag&&((r=this._currentRequest)==null||r.setRequestTimeout()),delete this._timeoutTask},e)}}_getPrototype(){return this.constructor}}l.UNSENT=0;l.OPENED=1;l.HEADERS_RECEIVED=2;l.LOADING=3;l.DONE=4;l.timeoutEnabled=!0;function O(t,e=""){const r=new Error(e);throw r.name=t,r}function j(){return{isNetworkError:!0,status:0,statusMessage:"",headers:new U,body:null}}function et(){var t;return t=class extends l{constructor(){var r;super(),(r=t.onCreate)==null||r.call(t,this)}},t.timeoutEnabled=!0,t}function tt(t){for(var e=[],r=0;r<t.length;){var n=t[r];if(n==="*"||n==="+"||n==="?"){e.push({type:"MODIFIER",index:r,value:t[r++]});continue}if(n==="\\"){e.push({type:"ESCAPED_CHAR",index:r++,value:t[r++]});continue}if(n==="{"){e.push({type:"OPEN",index:r,value:t[r++]});continue}if(n==="}"){e.push({type:"CLOSE",index:r,value:t[r++]});continue}if(n===":"){for(var s="",i=r+1;i<t.length;){var a=t.charCodeAt(i);if(a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122||a===95){s+=t[i++];continue}break}if(!s)throw new TypeError("Missing parameter name at ".concat(r));e.push({type:"NAME",index:r,value:s}),r=i;continue}if(n==="("){var o=1,f="",i=r+1;if(t[i]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(i));for(;i<t.length;){if(t[i]==="\\"){f+=t[i++]+t[i++];continue}if(t[i]===")"){if(o--,o===0){i++;break}}else if(t[i]==="("&&(o++,t[i+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(i));f+=t[i++]}if(o)throw new TypeError("Unbalanced pattern at ".concat(r));if(!f)throw new TypeError("Missing pattern at ".concat(r));e.push({type:"PATTERN",index:r,value:f}),r=i;continue}e.push({type:"CHAR",index:r,value:t[r++]})}return e.push({type:"END",index:r,value:""}),e}function rt(t,e){e===void 0&&(e={});for(var r=tt(t),n=e.prefixes,s=n===void 0?"./":n,i=e.delimiter,a=i===void 0?"/#?":i,o=[],f=0,u=0,d="",h=function(b){if(u<r.length&&r[u].type===b)return r[u++].value},c=function(b){var m=h(b);if(m!==void 0)return m;var P=r[u],J=P.type,qe=P.index;throw new TypeError("Unexpected ".concat(J," at ").concat(qe,", expected ").concat(b))},p=function(){for(var b="",m;m=h("CHAR")||h("ESCAPED_CHAR");)b+=m;return b},S=function(b){for(var m=0,P=a;m<P.length;m++){var J=P[m];if(b.indexOf(J)>-1)return!0}return!1},w=function(b){var m=o[o.length-1],P=b||(m&&typeof m=="string"?m:"");if(m&&!P)throw new TypeError('Must have text between two parameters, missing text after "'.concat(m.name,'"'));return!P||S(P)?"[^".concat(H(a),"]+?"):"(?:(?!".concat(H(P),")[^").concat(H(a),"])+?")};u<r.length;){var A=h("CHAR"),v=h("NAME"),L=h("PATTERN");if(v||L){var T=A||"";s.indexOf(T)===-1&&(d+=T,T=""),d&&(o.push(d),d=""),o.push({name:v||f++,prefix:T,suffix:"",pattern:L||w(T),modifier:h("MODIFIER")||""});continue}var y=A||h("ESCAPED_CHAR");if(y){d+=y;continue}d&&(o.push(d),d="");var q=h("OPEN");if(q){var T=p(),N=h("NAME")||"",G=h("PATTERN")||"",B=p();c("CLOSE"),o.push({name:N||(G?f++:""),pattern:N&&!G?w(T):G,prefix:T,suffix:B,modifier:h("MODIFIER")||""});continue}c("END")}return o}function nt(t,e){var r=[],n=Te(t,r,e);return st(n,r,e)}function st(t,e,r){r===void 0&&(r={});var n=r.decode,s=n===void 0?function(i){return i}:n;return function(i){var a=t.exec(i);if(!a)return!1;for(var o=a[0],f=a.index,u=Object.create(null),d=function(c){if(a[c]===void 0)return"continue";var p=e[c-1];p.modifier==="*"||p.modifier==="+"?u[p.name]=a[c].split(p.prefix+p.suffix).map(function(S){return s(S,p)}):u[p.name]=s(a[c],p)},h=1;h<a.length;h++)d(h);return{path:o,index:f,params:u}}}function H(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function Se(t){return t&&t.sensitive?"":"i"}function it(t,e){if(!e)return t;for(var r=/\((?:\?<(.*?)>)?(?!\?)/g,n=0,s=r.exec(t.source);s;)e.push({name:s[1]||n++,prefix:"",suffix:"",modifier:"",pattern:""}),s=r.exec(t.source);return t}function at(t,e,r){var n=t.map(function(s){return Te(s,e,r).source});return new RegExp("(?:".concat(n.join("|"),")"),Se(r))}function ot(t,e,r){return ut(rt(t,r),e,r)}function ut(t,e,r){r===void 0&&(r={});for(var n=r.strict,s=n===void 0?!1:n,i=r.start,a=i===void 0?!0:i,o=r.end,f=o===void 0?!0:o,u=r.encode,d=u===void 0?function(m){return m}:u,h=r.delimiter,c=h===void 0?"/#?":h,p=r.endsWith,S=p===void 0?"":p,w="[".concat(H(S),"]|$"),A="[".concat(H(c),"]"),v=a?"^":"",L=0,T=t;L<T.length;L++){var y=T[L];if(typeof y=="string")v+=H(d(y));else{var q=H(d(y.prefix)),N=H(d(y.suffix));if(y.pattern)if(e&&e.push(y),q||N)if(y.modifier==="+"||y.modifier==="*"){var G=y.modifier==="*"?"?":"";v+="(?:".concat(q,"((?:").concat(y.pattern,")(?:").concat(N).concat(q,"(?:").concat(y.pattern,"))*)").concat(N,")").concat(G)}else v+="(?:".concat(q,"(").concat(y.pattern,")").concat(N,")").concat(y.modifier);else{if(y.modifier==="+"||y.modifier==="*")throw new TypeError('Can not repeat "'.concat(y.name,'" without a prefix and suffix'));v+="(".concat(y.pattern,")").concat(y.modifier)}else v+="(?:".concat(q).concat(N,")").concat(y.modifier)}}if(f)s||(v+="".concat(A,"?")),v+=r.endsWith?"(?=".concat(w,")"):"$";else{var B=t[t.length-1],b=typeof B=="string"?A.indexOf(B[B.length-1])>-1:B===void 0;s||(v+="(?:".concat(A,"(?=").concat(w,"))?")),b||(v+="(?=".concat(A,"|").concat(w,")"))}return new RegExp(v,Se(r))}function Te(t,e,r){return t instanceof RegExp?it(t,e):Array.isArray(t)?at(t,e,r):ot(t,e,r)}function lt(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=ft(t))||e){r&&(t=r);var n=0,s=function(){};return{s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,a=!1,o;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return i=u.done,u},e:function(u){a=!0,o=u},f:function(){try{!i&&r.return!=null&&r.return()}finally{if(a)throw o}}}}function ft(t,e){if(t){if(typeof t=="string")return le(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return le(t,e)}}function le(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Oe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=e.indexOf("http")==0?void 0:"http://localhost",n=new URL(e,r);return n},Q=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=Oe(e),n=[];if(r.search){var s=lt(r.searchParams.keys()),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;n.push(a)}}catch(o){s.e(o)}finally{s.f()}}return{path:r.host+r.pathname,searchParamKeys:n}};function k(t){"@babel/helpers - typeof";return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(t)}function fe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};k(t)==="object"?(this.method=e.method||t.method||"GET",this.url=t.url,this.body=e.body||t.body||null,this.signal=e.signal||t.signal||null):(this.method=e.method||"GET",this.url=t,this.body=e.body||null,this.signal=e.signal||null);var r=Oe(this.url);r.search&&(this.searchParams=Object.fromEntries(new URLSearchParams(r.search)))}var de={},E=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof de<"u"&&de||{},_={searchParams:"URLSearchParams"in E,iterable:"Symbol"in E&&"iterator"in Symbol,blob:"FileReader"in E&&"Blob"in E&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in E,arrayBuffer:"ArrayBuffer"in E};function dt(t){return t&&DataView.prototype.isPrototypeOf(t)}if(_.arrayBuffer)var ct=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],ht=ArrayBuffer.isView||function(t){return t&&ct.indexOf(Object.prototype.toString.call(t))>-1};function M(t){if(typeof t!="string"&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||t==="")throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function ne(t){return typeof t!="string"&&(t=String(t)),t}function se(t){var e={next:function(){var r=t.shift();return{done:r===void 0,value:r}}};return _.iterable&&(e[Symbol.iterator]=function(){return e}),e}function g(t){this.map={},t instanceof g?t.forEach(function(e,r){this.append(r,e)},this):Array.isArray(t)?t.forEach(function(e){if(e.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}g.prototype.append=function(t,e){t=M(t),e=ne(e);var r=this.map[t];this.map[t]=r?r+", "+e:e};g.prototype.delete=function(t){delete this.map[M(t)]};g.prototype.get=function(t){return t=M(t),this.has(t)?this.map[t]:null};g.prototype.has=function(t){return this.map.hasOwnProperty(M(t))};g.prototype.set=function(t,e){this.map[M(t)]=ne(e)};g.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)};g.prototype.keys=function(){var t=[];return this.forEach(function(e,r){t.push(r)}),se(t)};g.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),se(t)};g.prototype.entries=function(){var t=[];return this.forEach(function(e,r){t.push([r,e])}),se(t)};_.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function Y(t){if(!t._noBody){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}}function Ae(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function pt(t){var e=new FileReader,r=Ae(e);return e.readAsArrayBuffer(t),r}function yt(t){var e=new FileReader,r=Ae(e),n=/charset=([A-Za-z0-9_-]+)/.exec(t.type),s=n?n[1]:"utf-8";return e.readAsText(t,s),r}function gt(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}function ce(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function Pe(){return this.bodyUsed=!1,this._initBody=function(t){this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?typeof t=="string"?this._bodyText=t:_.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:_.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:_.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():_.arrayBuffer&&_.blob&&dt(t)?(this._bodyArrayBuffer=ce(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):_.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||ht(t))?this._bodyArrayBuffer=ce(t):this._bodyText=t=Object.prototype.toString.call(t):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof t=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):_.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},_.blob&&(this.blob=function(){var t=Y(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=Y(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(_.blob)return this.blob().then(pt);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var t=Y(this);if(t)return t;if(this._bodyBlob)return yt(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(gt(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},_.formData&&(this.formData=function(){return this.text().then(vt)}),this.json=function(){return this.text().then(JSON.parse)},this}var mt=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function Et(t){var e=t.toUpperCase();return mt.indexOf(e)>-1?e:t}function F(t,e){if(!(this instanceof F))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e=e||{};var r=e.body;if(t instanceof F){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new g(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,!r&&t._bodyInit!=null&&(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",(e.headers||!this.headers)&&(this.headers=new g(e.headers)),this.method=Et(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal||function(){if("AbortController"in E){var i=new AbortController;return i.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),(this.method==="GET"||this.method==="HEAD")&&(e.cache==="no-store"||e.cache==="no-cache")){var n=/([?&])_=[^&]*/;if(n.test(this.url))this.url=this.url.replace(n,"$1_="+new Date().getTime());else{var s=/\?/;this.url+=(s.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}F.prototype.clone=function(){return new F(this,{body:this._bodyInit})};function vt(t){var e=new FormData;return t.trim().split("&").forEach(function(r){if(r){var n=r.split("="),s=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(s),decodeURIComponent(i))}}),e}function _t(t){var e=new g,r=t.replace(/\r?\n[\t ]+/g," ");return r.split("\r").map(function(n){return n.indexOf(`
`)===0?n.substr(1,n.length):n}).forEach(function(n){var s=n.split(":"),i=s.shift().trim();if(i){var a=s.join(":").trim();try{e.append(i,a)}catch(o){console.warn("Response "+o.message)}}}),e}Pe.call(F.prototype);function C(t,e){if(!(this instanceof C))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e||(e={}),this.type="default",this.status=e.status===void 0?200:e.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText===void 0?"":""+e.statusText,this.headers=new g(e.headers),this.url=e.url||"",this._initBody(t)}Pe.call(C.prototype);C.prototype.clone=function(){return new C(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})};C.error=function(){var t=new C(null,{status:200,statusText:""});return t.ok=!1,t.status=0,t.type="error",t};var bt=[301,302,303,307,308];C.redirect=function(t,e){if(bt.indexOf(e)===-1)throw new RangeError("Invalid status code");return new C(null,{status:e,headers:{location:t}})};var I=E.DOMException;try{new I}catch{I=function(e,r){this.message=e,this.name=r;var n=Error(e);this.stack=n.stack},I.prototype=Object.create(Error.prototype),I.prototype.constructor=I}function De(t,e){return new Promise(function(r,n){var s=new F(t,e);if(s.signal&&s.signal.aborted)return n(new I("Aborted","AbortError"));var i=new XMLHttpRequest;function a(){i.abort()}i.onload=function(){var u={statusText:i.statusText,headers:_t(i.getAllResponseHeaders()||"")};s.url.indexOf("file://")===0&&(i.status<200||i.status>599)?u.status=200:u.status=i.status,u.url="responseURL"in i?i.responseURL:u.headers.get("X-Request-URL");var d="response"in i?i.response:i.responseText;setTimeout(function(){r(new C(d,u))},0)},i.onerror=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},i.ontimeout=function(){setTimeout(function(){n(new TypeError("Network request timed out"))},0)},i.onabort=function(){setTimeout(function(){n(new I("Aborted","AbortError"))},0)};function o(u){try{return u===""&&E.location.href?E.location.href:u}catch{return u}}if(i.open(s.method,o(s.url),!0),s.credentials==="include"?i.withCredentials=!0:s.credentials==="omit"&&(i.withCredentials=!1),"responseType"in i&&(_.blob?i.responseType="blob":_.arrayBuffer&&(i.responseType="arraybuffer")),e&&typeof e.headers=="object"&&!(e.headers instanceof g||E.Headers&&e.headers instanceof E.Headers)){var f=[];Object.getOwnPropertyNames(e.headers).forEach(function(u){f.push(M(u)),i.setRequestHeader(u,ne(e.headers[u]))}),s.headers.forEach(function(u,d){f.indexOf(d)===-1&&i.setRequestHeader(d,u)})}else s.headers.forEach(function(u,d){i.setRequestHeader(d,u)});s.signal&&(s.signal.addEventListener("abort",a),i.onreadystatechange=function(){i.readyState===4&&s.signal.removeEventListener("abort",a)}),i.send(typeof s._bodyInit>"u"?null:s._bodyInit)})}De.polyfill=!0;E.fetch||(E.fetch=De,E.Headers=g,E.Request=F,E.Response=C);var Ce={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"};function wt(t,e){return Tt(t)||St(t,e)||Ne(t,e)||Rt()}function Rt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function St(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,a,o=[],f=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(f=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);f=!0);}catch(d){u=!0,s=d}finally{try{if(!f&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return o}}function Tt(t){if(Array.isArray(t))return t}function Ot(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Ne(t))||e){r&&(t=r);var n=0,s=function(){};return{s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,a=!1,o;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return i=u.done,u},e:function(u){a=!0,o=u},f:function(){try{!i&&r.return!=null&&r.return()}finally{if(a)throw o}}}}function Ne(t,e){if(t){if(typeof t=="string")return he(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return he(t,e)}}function he(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function At(t,e){var r=Ot(e),n;try{for(r.s();!(n=r.n()).done;){var s=wt(n.value,2),i=s[0],a=s[1];t.setRequestHeader(i,a)}}catch(o){r.e(o)}finally{r.f()}}function Pt(t){var e={};return t.getAllResponseHeaders().trim().split(/[\r\n]+/).map(function(r){return r.split(/: /)}).forEach(function(r){r[0]&&(e[r[0].trim()]=r[1]&&r[1].trim())}),e}var X={"content-type":"application/json"};function z(t){"@babel/helpers - typeof";return z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(t)}function pe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Dt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pe(Object(r),!0).forEach(function(n){Ct(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ct(t,e,r){return e=Nt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nt(t){var e=xt(t,"string");return z(e)==="symbol"?e:String(e)}function xt(t,e){if(z(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(z(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ye(t,e,r){var n=typeof r=="string"?r:JSON.stringify(r);return new Response(n,{ok:(e/100|0)===2,status:e,statusText:Ce[e.toString()],headers:new Headers(Dt({},X)),url:t})}function Ht(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;var r=t.slice().sort(),n=e.slice().sort();return!r.some(function(s,i){return s!==n[i]})}function ee(t){"@babel/helpers - typeof";return ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(t)}var qt=["GET","PUT","POST","DELETE","PATCH","OPTIONS"],It=Object.keys(Ce),xe=function(e){return e&&!Array.isArray(e)&&ee(e)==="object"},Ut={url:function(e){return typeof e=="string"},method:function(e){return typeof e=="string"&&qt.find(function(r){return r.toLowerCase()===e.toLowerCase()})},status:function(e){return e&&It.indexOf(e.toString())>=0},response:function(e){return(xe(e)||Array.isArray(e)||typeof e=="function")&&e!==null},delay:function(e){return e?typeof e=="number":!0}};function Ft(t,e){if(!xe(t))return["item: ".concat(JSON.stringify(t)," is not a valid object.")];var r=Object.keys(e).filter(function(n){return!e[n](t[n])}).map(function(n){return n+": ".concat(JSON.stringify(t[n])," is not valid.")});return r}function K(t){"@babel/helpers - typeof";return K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(t)}function ge(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function me(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ge(Object(r),!0).forEach(function(n){R(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ge(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lt(t){return Mt(t)||$t(t)||jt(t)||Bt()}function Bt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jt(t,e){if(t){if(typeof t=="string")return te(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return te(t,e)}}function $t(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mt(t){if(Array.isArray(t))return te(t)}function te(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Gt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,He(n.key),n)}}function Kt(t,e,r){return e&&zt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function R(t,e,r){return e=He(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function He(t){var e=Vt(t,"string");return K(e)==="symbol"?e:String(e)}function Vt(t,e){if(K(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(K(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var D=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof D<"u"&&D||{},Qt=function(){function t(){var e=this;Gt(this,t),R(this,"getRequests",function(){return Object.values(e.requestMap)}),R(this,"getKey",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"GET";return r&&s?[r].concat(Lt(n),[s.toLowerCase()]).join("_"):""}),R(this,"makeInitialRequestMap",function(r){!r||!Array.isArray(r)||(e.restore(),r.forEach(function(n){e.add(n)}))}),R(this,"setIgnoreQueryParams",function(r){e.ignoreQueryParams=r}),R(this,"add",function(r){var n=Q(r.url),s=n.path,i=n.searchParamKeys,a=e.getKey(s,i,r.method),o=Ft(r,Ut);if(o&&o.length){e.requestMap[a]={errors:o,originalRequest:r};return}e.requestMap[a]=me(me({},r),{},{path:s,searchParamKeys:i,method:r.method||"GET",status:r.status||200,delay:r.delay||0,skip:!1,errors:[]})}),R(this,"update",function(r,n,s){var i=r.url,a=r.method,o=Q(i),f=o.path,u=o.searchParamKeys,d=e.getKey(f,u,a);e.requestMap.hasOwnProperty(d)&&e.requestMap[d].hasOwnProperty(n)&&(e.requestMap[d][n]=s)}),R(this,"matchMock",function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GET",s=Q(r),i=s.path,a=s.searchParamKeys;for(var o in e.requestMap){var f=e.requestMap[o],u=f.url,d=f.method,h=Q(u),c=h.path,p=h.searchParamKeys;if(nt(c)(i)&&n==d&&e.matchQueryParams(a,p)&&!e.requestMap[o].skip)return e.requestMap[o]}return null}),R(this,"matchQueryParams",function(r,n){return e.ignoreQueryParams||Ht(r,n)}),R(this,"mockFetch",function(r,n){var s=new fe(r,n),i=s.url,a=s.method,o=e.matchMock(i,a);if(!o)return D.realFetch(r,n);var f=o.response,u=o.status,d=o.delay,h=d===void 0?0:d,c=!1;return new Promise(function(p,S){var w,A=setTimeout(function(){p(typeof f=="function"?ye(i,u,f(s)):ye(i,u,f)),c=!0},+h);(w=s.signal)===null||w===void 0||w.addEventListener("abort",function(){if(!c){A&&clearTimeout(A);var v=new Error(s.signal.reason);v.name="AbortError",S(v)}})})}),R(this,"mockXhrRequest",function(r){var n=r.method,s=r.url,i=r.body,a=e.matchMock(s,n);if(a){var o=a.response,f=a.status,u=a.delay,d=u===void 0?0:u;setTimeout(function(){if(typeof o=="function"){var S=o(new fe(s,{method:n,body:i}));r.respond(+f,X,JSON.stringify(S))}else r.respond(+f,X,JSON.stringify(o))},+d)}else{var h=D.realXMLHttpRequest,c=new h,p=r._responseReceiver;c.open(n,s),c.timeout=p.timeout,c.withCredentials=p.withCredentials,e.transferEventListeners(p,c),At(c,new Map(Object.entries(r.requestHeaders.getHash()))),c.addEventListener("readystatechange",function(){c.readyState===XMLHttpRequest.DONE&&r.respond(c.status,Pt(c),c.responseText,c.statusText)}),c.addEventListener("abort",function(){return r.abort()}),c.addEventListener("error",function(){return r.setNetworkError()}),c.addEventListener("timeout",function(){return r.setRequestTimeout()}),c.send(i)}}),R(this,"restore",function(){e.requestMap={},e.ignoreQueryParams=!1}),this.MockXhr=et(),this.MockXhr.onSend=this.mockXhrRequest,D.realFetch=D.fetch,D.realXMLHttpRequest=D.XMLHttpRequest,D.fetch=this.mockFetch,D.XMLHttpRequest=this.MockXhr,this.requestMap={},this.ignoreQueryParams=!1}return Kt(t,[{key:"transferEventListeners",value:function(r,n){r._listeners.forEach(function(s,i){i!=="loadstart"&&s.forEach(function(a){var o=a.isEventHandlerProperty,f=a.listener,u=a.useCapture,d=a.once;o?n["on".concat(i)]=f:n.addEventListener(i,f,{once:d,capture:u})})}),r._listeners.clear()}}]),t}();const x=new Qt;function Ee(t){return Zt(t)||Yt(t)||Wt(t)||Jt()}function Jt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wt(t,e){if(t){if(typeof t=="string")return re(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return re(t,e)}}function Yt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zt(t){if(Array.isArray(t))return re(t)}function re(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const{FORCE_RE_RENDER:kt,STORY_CHANGED:Xt}=__STORYBOOK_MODULE_CORE_EVENTS__,{addons:er}=__STORYBOOK_MODULE_ADDONS__;var ve=function(e,r,n){return e[r]||n},_e=!0,Z=!1,$=er.getChannel(),tr=function(e,r){var n=r.parameters,s=ve(n,Ie,[]),i=ve(n,Ue,{refreshStoryOnUpdate:!1,globalMockData:[],disableUsingOriginal:!1,ignoreQueryParams:!1}),a=i.globalMockData,o=i.refreshStoryOnUpdate,f=i.disableUsingOriginal,u=i.ignoreQueryParams,d=[].concat(Ee(a),Ee(s));return _e&&(x.makeInitialRequestMap(d),x.setIgnoreQueryParams(u),$.emit(V.SEND,{mockData:x.getRequests(),disableUsingOriginal:f}),$.on(Xt,function(){Z=!0}),$.on(V.UPDATE,function(h){var c=h.item,p=h.key,S=h.value;x.update(c,p,S);var w=x.getRequests();$.emit(V.SEND,{mockData:w,disableUsingOriginal:f}),o&&$.emit(kt)}),_e=!1),Z&&(x.makeInitialRequestMap(d),x.setIgnoreQueryParams(u),$.emit(V.SEND,{mockData:x.getRequests(),disableUsingOriginal:f}),Z=!1),e(r)},nr=[tr];export{nr as decorators};
/**
 * mock-xmlhttprequest v8.4.0
 * (c) 2024 Bertrand Guay-Paquet
 * @license MIT
 */
