const r="dataLayer",l="dataLayer",m={ADD_EVENT:`${r}/add`,CODE_UPDATE:`${r}/update`,CLEAR:`${r}/clear`,LISTEN:`${r}/listen`},{makeDecorator:D,useChannel:E,useEffect:L}=__STORYBOOK_MODULE_ADDONS__,O=D({name:"withDataLayerListener",parameterName:l,skipIfNoParametersOrOptions:!1,wrapper:(o,s)=>{const u=E({});function i(e){return Object.entries(e).reduce((t,[n,a])=>(t[n]=typeof a=="object"&&a.tagName?a.tagName:a,t),{})}function c(){for(var e=0,t=this.length,n=arguments.length;e<n;e++,t++)this[t]=arguments[e],u(m.ADD_EVENT,{event:i(arguments[e])});return t}const d=()=>{window.dataLayer=window.dataLayer||[],Object.defineProperty(window.dataLayer,"push",{value:c,writable:!0,enumerable:!0,configurable:!0})};return L(()=>{setTimeout(d,1e3)},[]),o(s)}});module&&module.hot&&module.hot.decline&&module.hot.decline();const f=[O],h={decorators:f};export{h as default};
